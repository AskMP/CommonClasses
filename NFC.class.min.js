import EventEmitter from"./EventEmitter.js";export class NFCTap extends EventEmitter{constructor(t={}){if(super(),t=Object.assign({timeout:2e3},t),this.lastTap,!window.NFCReader)return;let e=new NFCReader;e.addEventListener("reading",e=>{e.serialNumber!==this.lastTap.serialNumber&&(t.timeout&&setTimeout(()=>this.lastTap=!1,t.timeout),this.lastTap=e,this.emit("tap",this.lastTap.serialNumber),this.lastTap.message&&this.lastTap.message.records&&(this.emit("records",this.lastTap.message.records),this.lastTap.message.records.forEach(t=>this.emit("record",t))))}),e.scan&&e.scan(),e.start&&e.start()}}export{NFCTap as default};